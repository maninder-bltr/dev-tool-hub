"use strict";(self.webpackChunkonline_dev_tools=self.webpackChunkonline_dev_tools||[]).push([[593],{593(e,t,s){s.r(t),s.d(t,{default:()=>v});var a=s(5043),i=s(3204),n=s(579);const l=[{id:"merge",label:"Merge",icon:i.aQJ,description:"Combine multiple PDFs into one"},{id:"split",label:"Split",icon:i.sXf,description:"Extract specific pages"},{id:"remove",label:"Remove Pages",icon:i.qbC,description:"Delete unwanted pages"},{id:"rotate",label:"Rotate",icon:i.Lsu,description:"Rotate pages 90\xb0, 180\xb0, 270\xb0"},{id:"watermark",label:"Watermark",icon:i.PYU,description:"Add text or image watermark"},{id:"pagenum",label:"Page Numbers",icon:i.lfF,description:"Add page numbers"},{id:"image2pdf",label:"Image \u2192 PDF",icon:i.dkL,description:"Convert images to PDF"},{id:"pdftoimage",label:"PDF \u2192 Image",icon:i.kl1,description:"Convert PDF pages to images",comingSoon:!0},{id:"sign",label:"Sign",icon:i.F7,description:"Add signature to PDF"}],r=e=>{let{activeMode:t,setActiveMode:s,onClear:a,onDownload:r,canDownload:o}=e;return(0,n.jsxs)("div",{className:"pdf-toolbar",children:[(0,n.jsx)("div",{className:"mode-selector",children:l.map(e=>{const a=e.icon,i=e.comingSoon;return(0,n.jsxs)("button",{className:"mode-btn ".concat(t===e.id?"active":""," ").concat(i?"coming-soon":""),onClick:()=>!i&&s(e.id),title:e.description+(i?" (Coming Soon)":""),disabled:i,children:[(0,n.jsx)(a,{})," ",(0,n.jsx)("span",{children:e.label}),i&&(0,n.jsx)("span",{className:"coming-soon-badge",children:"Soon"})]},e.id)})}),(0,n.jsxs)("div",{className:"global-actions",children:[(0,n.jsxs)("button",{className:"global-btn",onClick:a,title:"Clear all files",children:[(0,n.jsx)(i.qbC,{})," Clear"]}),(0,n.jsxs)("button",{className:"global-btn",onClick:r,disabled:!o,title:"Download result",children:[(0,n.jsx)(i.WCW,{})," Download"]})]})]})};var o=s(2555),c=s(8789),d=s(6369);const p=e=>{let{files:t,setFiles:s,onResultReady:l,setLoading:r}=e;const p=(0,a.useCallback)(e=>{const t=e.filter(e=>"application/pdf"===e.type);s(e=>[...e,...t])},[s]),{getRootProps:g,getInputProps:m,isDragActive:u}=(0,c.VB)({onDrop:p,accept:{"application/pdf":[".pdf"]}});return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",(0,o.A)((0,o.A)({},g()),{},{className:"upload-area",children:[(0,n.jsx)("input",(0,o.A)({},m())),(0,n.jsx)(i.kl1,{}),u?(0,n.jsx)("p",{children:"Drop PDFs here ..."}):(0,n.jsx)("p",{children:"Drag & drop PDF files, or click to select"})]})),t.length>0&&(0,n.jsx)("div",{className:"file-list",children:t.map((e,t)=>(0,n.jsxs)("div",{className:"file-item",children:[(0,n.jsxs)("div",{className:"file-info",children:[(0,n.jsx)(i.kl1,{}),(0,n.jsx)("span",{children:e.name}),(0,n.jsxs)("span",{className:"file-size",children:[(e.size/1024).toFixed(1)," KB"]})]}),(0,n.jsx)("button",{className:"remove-file",onClick:()=>{return e=t,void s(t=>t.filter((t,s)=>s!==e));var e},children:(0,n.jsx)(i.qbC,{})})]},t))}),(0,n.jsx)("div",{className:"workspace-actions",children:(0,n.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(!(t.length<2)){r(!0);try{const e=await(0,d.OU)(t);l(e)}catch(e){console.error(e)}finally{r(!1)}}},disabled:t.length<2,children:"Merge PDFs"})})]})},g=e=>{let{files:t,setFiles:s,onResultReady:l,setLoading:r}=e;const[p,g]=(0,a.useState)(""),[m,u]=(0,a.useState)(0),[h,x]=(0,a.useState)("1-3,5,7-9"),f=(0,a.useCallback)(e=>{const t=e.filter(e=>"application/pdf"===e.type)[0];t&&s([t])},[s]),{getRootProps:j,getInputProps:y,isDragActive:b}=(0,c.VB)({onDrop:f,accept:{"application/pdf":[".pdf"]},maxFiles:1});(0,a.useEffect)(()=>{(async()=>{if(t[0]){const e=await(0,d.getPageCount)(t[0]);u(e),x("e.g., 1-3,5,7-9 (total ".concat(e," pages)"))}else u(0)})()},[t]);return(0,n.jsx)("div",{children:0===t.length?(0,n.jsxs)("div",(0,o.A)((0,o.A)({},j()),{},{className:"upload-area",children:[(0,n.jsx)("input",(0,o.A)({},y())),(0,n.jsx)(i.kl1,{}),b?(0,n.jsx)("p",{children:"Drop PDF here ..."}):(0,n.jsx)("p",{children:"Drag & drop a PDF file to extract specific pages"})]})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"file-item",children:[(0,n.jsxs)("div",{className:"file-info",children:[(0,n.jsx)(i.kl1,{}),(0,n.jsx)("span",{children:t[0].name}),(0,n.jsxs)("span",{className:"file-size",children:[(t[0].size/1024).toFixed(1)," KB"]})]}),(0,n.jsx)("button",{className:"remove-file",onClick:()=>{s([]),g(""),u(0)},title:"Remove file",children:(0,n.jsx)(i.qbC,{})})]}),(0,n.jsxs)("div",{className:"info-box",children:[(0,n.jsx)(i.__w,{className:"info-icon"}),(0,n.jsxs)("div",{className:"info-content",children:[(0,n.jsx)("strong",{children:"How to specify pages:"}),(0,n.jsxs)("ul",{style:{marginTop:4,marginLeft:20},children:[(0,n.jsx)("li",{children:"Single pages: 1,3,5"}),(0,n.jsx)("li",{children:"Ranges: 1-5 (pages 1 through 5)"}),(0,n.jsx)("li",{children:"Combinations: 1-3,5,7-9"})]})]})]}),(0,n.jsxs)("div",{style:{marginTop:16},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontSize:13,color:"var(--text-secondary)"},children:"Page ranges to extract:"}),(0,n.jsx)("input",{type:"text",className:"pdf-input",value:p,onChange:e=>g(e.target.value),placeholder:h}),(0,n.jsxs)("p",{style:{fontSize:11,color:"var(--text-tertiary)",marginTop:4},children:["Total pages in PDF: ",m]})]}),(0,n.jsx)("div",{className:"workspace-actions",children:(0,n.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(!t[0]||!p.trim())return;r(!0);const e=await(0,d.hJ)(t[0],p);l(e),r(!1)},disabled:!t[0]||!p.trim(),children:"Extract Pages"})})]})})},m=e=>{let{files:t,setFiles:s,onResultReady:l,setLoading:r}=e;const[p,g]=(0,a.useState)([]),[m,u]=(0,a.useState)(new Set),[h,x]=(0,a.useState)(0),f=(0,a.useCallback)(e=>{const t=e.filter(e=>"application/pdf"===e.type)[0];t&&(s([t]),u(new Set))},[s]),{getRootProps:j,getInputProps:y,isDragActive:b}=(0,c.VB)({onDrop:f,accept:{"application/pdf":[".pdf"]},maxFiles:1});(0,a.useEffect)(()=>{(async()=>{if(t[0]){const e=await(0,d.getPageCount)(t[0]);x(e),g(Array.from({length:e},(e,t)=>t+1))}else g([]),x(0)})()},[t]);const v=m.size>0&&m.size<h;return(0,n.jsx)("div",{children:0===t.length?(0,n.jsxs)("div",(0,o.A)((0,o.A)({},j()),{},{className:"upload-area",children:[(0,n.jsx)("input",(0,o.A)({},y())),(0,n.jsx)(i.kl1,{}),b?(0,n.jsx)("p",{children:"Drop PDF here ..."}):(0,n.jsx)("p",{children:"Drag & drop a PDF file to remove pages"})]})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"file-item",children:[(0,n.jsxs)("div",{className:"file-info",children:[(0,n.jsx)(i.kl1,{}),(0,n.jsx)("span",{children:t[0].name}),(0,n.jsxs)("span",{className:"file-size",children:[(t[0].size/1024).toFixed(1)," KB"]})]}),(0,n.jsx)("button",{className:"remove-file",onClick:()=>{s([]),g([]),u(new Set)},title:"Remove file",children:(0,n.jsx)(i.qbC,{})})]}),(0,n.jsxs)("div",{className:"info-box",children:[(0,n.jsx)(i.__w,{className:"info-icon"}),(0,n.jsxs)("div",{className:"info-content",children:[(0,n.jsx)("strong",{children:"Select pages to remove:"}),(0,n.jsxs)("p",{style:{marginTop:4},children:["Total pages: ",h," | Selected: ",m.size]})]})]}),p.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:8},children:[(0,n.jsx)("button",{onClick:()=>{u(new Set(p))},className:"btn-secondary",style:{padding:"4px 12px",fontSize:11},children:"Select All"}),(0,n.jsx)("button",{onClick:()=>{u(new Set)},className:"btn-secondary",style:{padding:"4px 12px",fontSize:11},children:"Clear All"})]}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:8,maxHeight:200,overflowY:"auto",padding:8,background:"var(--bg-secondary)",borderRadius:6},children:p.map(e=>(0,n.jsxs)("button",{onClick:()=>(e=>{const t=new Set(m);t.has(e)?t.delete(e):t.add(e),u(t)})(e),style:{padding:"8px 4px",background:m.has(e)?"#ef4444":"var(--bg-primary)",color:m.has(e)?"white":"var(--text-primary)",border:"1px solid ".concat(m.has(e)?"#ef4444":"var(--border-color)"),borderRadius:4,cursor:"pointer",fontSize:12,fontWeight:m.has(e)?"600":"400"},children:["Page ",e]},e))}),!v&&m.size>0&&(0,n.jsx)("p",{style:{color:"#ef4444",fontSize:12,marginTop:8},children:"Cannot remove all pages. PDF must have at least one page."})]}),(0,n.jsx)("div",{className:"workspace-actions",children:(0,n.jsxs)("button",{className:"btn btn-primary",onClick:async()=>{if(!t[0]||0===m.size)return;r(!0);const e=Array.from(m).map(e=>e-1),s=await(0,d.Nf)(t[0],e);l(s),r(!1)},disabled:!v,children:["Remove Selected Pages (",m.size,")"]})})]})})},u=e=>{let{files:t,setFiles:s,onResultReady:l,setLoading:r}=e;const[p,g]=(0,a.useState)([]),[m,u]=(0,a.useState)(new Set),[h,x]=(0,a.useState)(90),[f,j]=(0,a.useState)(!0),[y,b]=(0,a.useState)(""),v=(0,a.useCallback)(e=>{const t=e.filter(e=>"application/pdf"===e.type)[0];t&&(s([t]),g([]),u(new Set),b(""))},[s]),{getRootProps:w,getInputProps:N,isDragActive:S}=(0,c.VB)({onDrop:v,accept:{"application/pdf":[".pdf"]},maxFiles:1}),C=(0,a.useCallback)(async()=>{if(t[0]){r(!0);try{const e=await(0,d.getPageCount)(t[0]);g(Array.from({length:e},(e,t)=>t+1))}catch(e){b("Failed to load PDF: "+e.message)}finally{r(!1)}}},[t,r]);(0,a.useEffect)(()=>{t[0]&&C()},[t,C]);return(0,n.jsx)("div",{children:0===t.length?(0,n.jsxs)("div",(0,o.A)((0,o.A)({},w()),{},{className:"upload-area",children:[(0,n.jsx)("input",(0,o.A)({},N())),(0,n.jsx)(i.kl1,{}),S?(0,n.jsx)("p",{children:"Drop PDF here ..."}):(0,n.jsx)("p",{children:"Drag & drop a PDF file to rotate pages"})]})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"file-item",children:[(0,n.jsxs)("div",{className:"file-info",children:[(0,n.jsx)(i.kl1,{}),(0,n.jsx)("span",{children:t[0].name}),(0,n.jsxs)("span",{className:"file-size",children:[(t[0].size/1024).toFixed(1)," KB"]})]}),(0,n.jsx)("button",{className:"remove-file",onClick:()=>{s([]),g([]),u(new Set),b("")},title:"Remove file",children:(0,n.jsx)(i.qbC,{})})]}),(0,n.jsxs)("div",{style:{marginTop:16,background:"var(--bg-secondary)",padding:16,borderRadius:8},children:[(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[(0,n.jsx)("input",{type:"radio",checked:f,onChange:()=>j(!0)}),(0,n.jsx)("span",{style:{fontSize:13,color:"var(--text-primary)"},children:"Rotate all pages"})]}),(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,n.jsx)("input",{type:"radio",checked:!f,onChange:()=>j(!1)}),(0,n.jsx)("span",{style:{fontSize:13,color:"var(--text-primary)"},children:"Rotate specific pages"})]})]}),(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:8,fontSize:13,color:"var(--text-secondary)"},children:"Rotation Angle:"}),(0,n.jsx)("div",{style:{display:"flex",gap:8},children:[90,180,270].map(e=>(0,n.jsxs)("button",{onClick:()=>x(e),style:{flex:1,padding:"8px 12px",background:h===e?"var(--accent)":"var(--bg-primary)",color:h===e?"white":"var(--text-primary)",border:"1px solid ".concat(h===e?"var(--accent)":"var(--border-color)"),borderRadius:6,cursor:"pointer",fontSize:13,display:"flex",alignItems:"center",justifyContent:"center",gap:4},children:[(0,n.jsx)(i.Lsu,{style:{transform:"rotate(".concat(e,"deg)")}})," ",e,"\xb0"]},e))})]}),!f&&p.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{marginBottom:8},children:(0,n.jsxs)("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:["Select pages to rotate (",m.size," selected):"]})}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:8,maxHeight:150,overflowY:"auto",padding:8,background:"var(--bg-primary)",borderRadius:6,marginBottom:8},children:p.map(e=>(0,n.jsxs)("button",{onClick:()=>(e=>{const t=new Set(m);t.has(e)?t.delete(e):t.add(e),u(t)})(e),style:{padding:"8px 4px",background:m.has(e)?"var(--accent)":"var(--bg-secondary)",color:m.has(e)?"white":"var(--text-primary)",border:"1px solid ".concat(m.has(e)?"var(--accent)":"var(--border-color)"),borderRadius:4,cursor:"pointer",fontSize:12},children:["Page ",e]},e))})]})]}),y&&(0,n.jsx)("div",{style:{color:"#ef4444",fontSize:12,marginTop:8},children:y}),(0,n.jsx)("div",{className:"workspace-actions",children:(0,n.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(t[0]){r(!0),b("");try{let e;if(f)e="all";else{if(0===m.size)return b("Please select at least one page"),void r(!1);e=Array.from(m).map(e=>e-1)}const s=await(0,d.iq)(t[0],e,h);l(s)}catch(e){b("Failed to rotate PDF: "+e.message)}finally{r(!1)}}},disabled:!t[0]||!f&&0===m.size,children:"Rotate PDF"})})]})})},h=e=>{let{files:t,setFiles:s,onResultReady:l,setLoading:r}=e;const[p,g]=(0,a.useState)("text"),[m,u]=(0,a.useState)("CONFIDENTIAL"),[h,x]=(0,a.useState)(60),[f,j]=(0,a.useState)(.3),[y,b]=(0,a.useState)(45),[v,w]=(0,a.useState)("center"),[N,S]=(0,a.useState)(null),[C,P]=(0,a.useState)(.5),[k,F]=(0,a.useState)(""),[R,D]=(0,a.useState)(""),z=(0,a.useCallback)(e=>{const t=e.filter(e=>"application/pdf"===e.type)[0];t&&(s([t]),F(""),D(""))},[s]),A=(0,a.useCallback)(e=>{const t=e[0];t&&(S(t),D("Watermark image loaded successfully"),F(""))},[]),{getRootProps:B,getInputProps:L,isDragActive:I}=(0,c.VB)({onDrop:z,accept:{"application/pdf":[".pdf"]},maxFiles:1}),{getRootProps:T,getInputProps:E,isDragActive:M}=(0,c.VB)({onDrop:A,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},maxFiles:1});return(0,n.jsx)("div",{children:0===t.length?(0,n.jsxs)("div",(0,o.A)((0,o.A)({},B()),{},{className:"upload-area",children:[(0,n.jsx)("input",(0,o.A)({},L())),(0,n.jsx)(i.kl1,{size:32}),I?(0,n.jsx)("p",{children:"Drop PDF here ..."}):(0,n.jsx)("p",{children:"Drag & drop a PDF file to add watermark"})]})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"file-item",children:[(0,n.jsxs)("div",{className:"file-info",children:[(0,n.jsx)(i.kl1,{}),(0,n.jsx)("span",{children:t[0].name}),(0,n.jsxs)("span",{className:"file-size",children:[(t[0].size/1024).toFixed(1)," KB"]})]}),(0,n.jsx)("button",{className:"remove-file",onClick:()=>{s([]),S(null),F(""),D("")},title:"Remove file",children:(0,n.jsx)(i.qbC,{})})]}),R&&(0,n.jsxs)("div",{className:"status-message success",children:[(0,n.jsx)(i.A7C,{}),(0,n.jsx)("span",{children:R})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:16},children:[(0,n.jsxs)("button",{className:"btn ".concat("text"===p?"btn-primary":"btn-secondary"),onClick:()=>g("text"),style:{flex:1},children:[(0,n.jsx)(i.DJg,{})," Text Watermark"]}),(0,n.jsxs)("button",{className:"btn ".concat("image"===p?"btn-primary":"btn-secondary"),onClick:()=>g("image"),style:{flex:1},children:[(0,n.jsx)(i.dkL,{})," Image Watermark"]})]}),"text"===p?(0,n.jsxs)("div",{className:"options-panel",children:[(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontSize:13,color:"var(--text-secondary)"},children:"Watermark Text"}),(0,n.jsx)("input",{type:"text",className:"pdf-input",value:m,onChange:e=>u(e.target.value),placeholder:"Enter watermark text"})]}),(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsxs)("label",{style:{display:"block",marginBottom:4,fontSize:13,color:"var(--text-secondary)"},children:["Font Size: ",h,"px"]}),(0,n.jsx)("input",{type:"range",min:"20",max:"120",value:h,onChange:e=>x(parseInt(e.target.value)),style:{width:"100%"}})]})]}):(0,n.jsxs)("div",{className:"options-panel",children:[(0,n.jsxs)("div",(0,o.A)((0,o.A)({},T()),{},{className:"upload-area",style:{padding:16},children:[(0,n.jsx)("input",(0,o.A)({},E())),(0,n.jsx)(i.dkL,{size:24}),M?(0,n.jsx)("p",{children:"Drop image here ..."}):(0,n.jsx)("p",{children:N?N.name:"Click or drag watermark image"})]})),N&&(0,n.jsxs)("div",{style:{marginTop:16},children:[(0,n.jsxs)("label",{style:{display:"block",marginBottom:4,fontSize:13,color:"var(--text-secondary)"},children:["Image Scale: ",(100*C).toFixed(0),"%"]}),(0,n.jsx)("input",{type:"range",min:"0.1",max:"1",step:"0.05",value:C,onChange:e=>P(parseFloat(e.target.value)),style:{width:"100%"}})]})]}),(0,n.jsxs)("div",{className:"options-panel",children:[(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsxs)("label",{style:{display:"block",marginBottom:4,fontSize:13,color:"var(--text-secondary)"},children:["Opacity: ",(100*f).toFixed(0),"%"]}),(0,n.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:f,onChange:e=>j(parseFloat(e.target.value)),style:{width:"100%"}})]}),(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsxs)("label",{style:{display:"block",marginBottom:4,fontSize:13,color:"var(--text-secondary)"},children:["Rotation: ",y,"\xb0"]}),(0,n.jsx)("input",{type:"range",min:"0",max:"360",value:y,onChange:e=>b(parseInt(e.target.value)),style:{width:"100%"}})]}),(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontSize:13,color:"var(--text-secondary)"},children:"Position"}),(0,n.jsxs)("select",{className:"pdf-input",value:v,onChange:e=>w(e.target.value),children:[(0,n.jsx)("option",{value:"center",children:"Center"}),(0,n.jsx)("option",{value:"top",children:"Top"}),(0,n.jsx)("option",{value:"bottom",children:"Bottom"}),(0,n.jsx)("option",{value:"left",children:"Left"}),(0,n.jsx)("option",{value:"right",children:"Right"})]})]})]}),(0,n.jsxs)("div",{className:"preview-panel",children:[(0,n.jsx)("h4",{children:"Preview"}),(0,n.jsx)("div",{className:"preview-box",children:"text"===p?(0,n.jsx)("div",{style:{fontSize:h/3,opacity:f,transform:"rotate(".concat(y,"deg)"),color:"var(--text-primary)",fontWeight:"bold",whiteSpace:"nowrap"},children:m||"WATERMARK"}):N&&(0,n.jsx)("img",{src:URL.createObjectURL(N),alt:"Watermark preview",style:{maxWidth:"100%",maxHeight:100,opacity:f,transform:"rotate(".concat(y,"deg)")}})})]}),k&&(0,n.jsxs)("div",{className:"error-message",children:[(0,n.jsx)(i.TNq,{})," ",k]}),(0,n.jsx)("div",{className:"workspace-actions",children:(0,n.jsxs)("button",{className:"btn btn-primary",onClick:async()=>{if(!t[0])return;if("text"===p&&!m.trim())return void F("Please enter watermark text");if("image"===p&&!N)return void F("Please upload a watermark image");let e;r(!0),F(""),D(""),e="text"===p?await(0,d.Jf)(t[0],m,{opacity:f,rotation:y,fontSize:h,position:v}):await(0,d.zb)(t[0],N,{opacity:f,rotation:y,scale:C,position:v}),l(e),r(!1)},disabled:!t[0]||"text"===p&&!m.trim()||"image"===p&&!N,children:[(0,n.jsx)(i.PYU,{})," Add Watermark"]})})]})})},x=e=>{let{files:t,setFiles:s,onResultReady:l,setLoading:r}=e;const[p,g]=(0,a.useState)("bottom-right"),[m,u]=(0,a.useState)(12),[h,x]=(0,a.useState)(1),[f,j]=(0,a.useState)(""),y=(0,a.useCallback)(e=>{const t=e.filter(e=>"application/pdf"===e.type)[0];t&&(s([t]),j(""))},[s]),{getRootProps:b,getInputProps:v,isDragActive:w}=(0,c.VB)({onDrop:y,accept:{"application/pdf":[".pdf"]},maxFiles:1});return(0,n.jsx)("div",{children:0===t.length?(0,n.jsxs)("div",(0,o.A)((0,o.A)({},b()),{},{className:"upload-area",children:[(0,n.jsx)("input",(0,o.A)({},v())),(0,n.jsx)(i.kl1,{}),w?(0,n.jsx)("p",{children:"Drop PDF here ..."}):(0,n.jsx)("p",{children:"Drag & drop a PDF file to add page numbers"})]})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"file-item",children:[(0,n.jsxs)("div",{className:"file-info",children:[(0,n.jsx)(i.kl1,{}),(0,n.jsx)("span",{children:t[0].name}),(0,n.jsxs)("span",{className:"file-size",children:[(t[0].size/1024).toFixed(1)," KB"]})]}),(0,n.jsx)("button",{className:"remove-file",onClick:()=>{s([]),j("")},title:"Remove file",children:(0,n.jsx)(i.qbC,{})})]}),(0,n.jsxs)("div",{style:{marginTop:16,background:"var(--bg-secondary)",padding:16,borderRadius:8},children:[(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:8,fontSize:13,color:"var(--text-secondary)"},children:"Position:"}),(0,n.jsx)("div",{style:{display:"flex",gap:8},children:[{id:"top-right",label:"Top Right"},{id:"bottom-center",label:"Bottom Center"},{id:"bottom-right",label:"Bottom Right"}].map(e=>(0,n.jsx)("button",{onClick:()=>g(e.id),style:{flex:1,padding:"8px 12px",background:p===e.id?"var(--accent)":"var(--bg-primary)",color:p===e.id?"white":"var(--text-primary)",border:"1px solid ".concat(p===e.id?"var(--accent)":"var(--border-color)"),borderRadius:6,cursor:"pointer",fontSize:12},children:e.label},e.id))})]}),(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsxs)("label",{style:{display:"block",marginBottom:4,fontSize:13,color:"var(--text-secondary)"},children:["Font Size: ",m,"px"]}),(0,n.jsx)("input",{type:"range",min:"8",max:"24",value:m,onChange:e=>u(parseInt(e.target.value)),style:{width:"100%"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontSize:13,color:"var(--text-secondary)"},children:"Start Number:"}),(0,n.jsx)("input",{type:"number",min:"1",max:"999",value:h,onChange:e=>x(parseInt(e.target.value)||1),className:"pdf-input",style:{width:100}})]})]}),f&&(0,n.jsx)("div",{style:{color:"#ef4444",fontSize:12,marginTop:8},children:f}),(0,n.jsx)("div",{className:"workspace-actions",children:(0,n.jsxs)("button",{className:"btn btn-primary",onClick:async()=>{if(t[0]){r(!0),j("");try{const e=await(0,d.tJ)(t[0],{position:p,fontSize:m,startNumber:h});l(e)}catch(e){j("Failed to add page numbers: "+e.message)}finally{r(!1)}}},disabled:!t[0],children:[(0,n.jsx)(i.amN,{})," Add Page Numbers"]})})]})})},f=e=>{let{files:t,setFiles:s,onResultReady:l,setLoading:r}=e;const[p,g]=(0,a.useState)(""),m=(0,a.useCallback)(e=>{const t=e.filter(e=>"image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type);0!==t.length?(s(e=>[...e,...t]),g("")):g("Please upload JPG or PNG images only")},[s]),{getRootProps:u,getInputProps:h,isDragActive:x}=(0,c.VB)({onDrop:m,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]}});return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",(0,o.A)((0,o.A)({},u()),{},{className:"upload-area",children:[(0,n.jsx)("input",(0,o.A)({},h())),(0,n.jsx)(i.kQE,{}),x?(0,n.jsx)("p",{children:"Drop images here ..."}):(0,n.jsx)("p",{children:"Drag & drop images, or click to select"}),(0,n.jsx)("p",{style:{fontSize:11,color:"var(--text-tertiary)",marginTop:8},children:"Supported: JPG, PNG"})]})),t.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"file-list",children:t.map((e,t)=>(0,n.jsxs)("div",{className:"file-item",children:[(0,n.jsxs)("div",{className:"file-info",children:[(0,n.jsx)(i.R1W,{}),(0,n.jsx)("span",{children:e.name}),(0,n.jsxs)("span",{className:"file-size",children:[(e.size/1024).toFixed(1)," KB"]})]}),(0,n.jsx)("button",{className:"remove-file",onClick:()=>{return e=t,void s(t=>t.filter((t,s)=>s!==e));var e},children:(0,n.jsx)(i.qbC,{})})]},t))}),t.length>1&&(0,n.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:8},children:(0,n.jsx)("button",{onClick:()=>{s([]),g("")},style:{padding:"4px 12px",background:"transparent",border:"1px solid var(--border-color)",borderRadius:4,color:"var(--text-secondary)",fontSize:11,cursor:"pointer"},children:"Remove All"})}),p&&(0,n.jsx)("div",{style:{color:"#ef4444",fontSize:12,marginTop:8},children:p}),(0,n.jsx)("div",{className:"workspace-actions",children:(0,n.jsxs)("button",{className:"btn btn-primary",onClick:async()=>{if(0!==t.length){r(!0),g("");try{const e=await(0,d.AV)(t);l(e)}catch(e){g("Failed to convert images: "+e.message)}finally{r(!1)}}},disabled:0===t.length,children:["Convert ",t.length," Image",t.length>1?"s":""," to PDF"]})})]})]})},j=e=>{let{files:t,setFiles:l,onResultReady:r,setLoading:p}=e;const[g,m]=(0,a.useState)("draw"),[u,h]=(0,a.useState)(null),[x,f]=(0,a.useState)(null),[j,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!1),[w,N]=(0,a.useState)("all"),[S,C]=(0,a.useState)(""),[P,k]=(0,a.useState)(new Set),[F,R]=(0,a.useState)(0),[D,z]=(0,a.useState)([]),[A,B]=(0,a.useState)("preset"),[L,I]=(0,a.useState)("bottom-right"),[T,E]=(0,a.useState)({x:100,y:100}),[M,W]=(0,a.useState)({width:150,height:75}),[J,U]=(0,a.useState)(!1),[q,G]=(0,a.useState)({x:0,y:0}),[H,V]=(0,a.useState)(""),[O,_]=(0,a.useState)(""),[Y,K]=(0,a.useState)(null),X=(0,a.useRef)(null),Q=(0,a.useRef)(null),Z=(0,a.useRef)(0),$=(0,a.useRef)(0),ee=(0,a.useCallback)(e=>{const t=e.filter(e=>"application/pdf"===e.type)[0];t&&(l([t]),V(""),_(""))},[l]),te="draw"===g?!u:!x,se=(0,a.useCallback)(e=>{const t=e[0];if(t){if(t.size>2097152)return void V("Signature image must be less than 2MB");const e=new Image;e.onload=()=>{e.width>500||e.height>300?V("Signature image dimensions too large. Max 500x300 pixels."):(f(t),K(URL.createObjectURL(t)),h(null),V(""),_("Signature image loaded successfully"))},e.src=URL.createObjectURL(t)}},[]),{getRootProps:ae,getInputProps:ie,isDragActive:ne}=(0,c.VB)({onDrop:ee,accept:{"application/pdf":[".pdf"]},maxFiles:1}),{getRootProps:le,getInputProps:re}=(0,c.VB)({onDrop:se,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},maxFiles:1});(0,a.useEffect)(()=>{(async()=>{if(t[0])try{const{getPageCount:e}=await Promise.resolve().then(s.bind(s,6369)),a=await e(t[0]);R(a),z(Array.from({length:a},(e,t)=>t+1))}catch(e){V("Failed to load PDF page count")}})()},[t]),(0,a.useEffect)(()=>{if(X.current){const e=X.current,t=e.getContext("2d");t.strokeStyle="#000",t.lineWidth=2,t.lineCap="round",t.lineJoin="round",t.fillStyle="#fff",t.fillRect(0,0,e.width,e.height)}},[]);const oe=()=>{y(!1)},ce=()=>{const e=X.current,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),t.fillStyle="#fff",t.fillRect(0,0,e.width,e.height),h(null),f(null),K(null),_("")},de=e=>{I(e);const t={"top-left":{x:50,y:650},"top-right":{x:400,y:650},"bottom-left":{x:50,y:50},"bottom-right":{x:400,y:50},center:{x:225,y:350}};E(t[e]||t["bottom-right"])},pe=()=>{U(!1)};return(0,n.jsx)("div",{children:0===t.length?(0,n.jsxs)("div",(0,o.A)((0,o.A)({},ae()),{},{className:"upload-area",children:[(0,n.jsx)("input",(0,o.A)({},ie())),(0,n.jsx)(i.kl1,{size:32}),ne?(0,n.jsx)("p",{children:"Drop PDF here ..."}):(0,n.jsx)("p",{children:"Drag & drop a PDF file to sign"})]})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"file-item",children:[(0,n.jsxs)("div",{className:"file-info",children:[(0,n.jsx)(i.kl1,{}),(0,n.jsx)("span",{children:t[0].name}),(0,n.jsxs)("span",{className:"file-size",children:[(t[0].size/1024).toFixed(1)," KB"]})]}),(0,n.jsx)("button",{className:"remove-file",onClick:()=>{l([]),h(null),f(null),K(null),ce(),V(""),_(""),R(0),z([]),k(new Set)},title:"Remove file",children:(0,n.jsx)(i.qbC,{})})]}),O&&(0,n.jsxs)("div",{className:"status-message success",children:[(0,n.jsx)(i.A7C,{}),(0,n.jsx)("span",{children:O})]}),(0,n.jsxs)("div",{className:"options-panel",children:[(0,n.jsx)("h4",{children:"1. Create Signature"}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:16},children:[(0,n.jsxs)("button",{className:"btn ".concat("draw"===g?"btn-primary":"btn-secondary"),onClick:()=>m("draw"),style:{flex:1},children:[(0,n.jsx)(i.F7,{})," Draw Signature"]}),(0,n.jsxs)("button",{className:"btn ".concat("upload"===g?"btn-primary":"btn-secondary"),onClick:()=>m("upload"),style:{flex:1},children:[(0,n.jsx)(i.HVe,{})," Upload Image"]})]}),"draw"===g?(0,n.jsxs)("div",{className:"signature-area",children:[(0,n.jsxs)("div",{style:{marginBottom:8,display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:"Draw your signature:"}),(0,n.jsxs)("button",{onClick:ce,className:"btn-secondary",style:{padding:"4px 12px",fontSize:11},children:[(0,n.jsx)(i.Gml,{})," Clear"]})]}),(0,n.jsx)("div",{className:"canvas-container",children:(0,n.jsx)("canvas",{ref:X,width:400,height:150,onMouseDown:e=>{const t=X.current,s=t.getBoundingClientRect(),a=(e.clientX-s.left)*(t.width/s.width),i=(e.clientY-s.top)*(t.height/s.height);y(!0),Z.current=a,$.current=i},onMouseMove:e=>{if(!j)return;const t=X.current,s=t.getContext("2d"),a=t.getBoundingClientRect(),i=(e.clientX-a.left)*(t.width/a.width),n=(e.clientY-a.top)*(t.height/a.height);s.beginPath(),s.moveTo(Z.current,$.current),s.lineTo(i,n),s.stroke(),Z.current=i,$.current=n},onMouseUp:oe,onMouseLeave:oe,className:"signature-canvas"})}),(0,n.jsxs)("button",{onClick:()=>{const e=X.current.toDataURL("image/png");h(e),K(e),f(null),_("Signature saved successfully")},className:"btn-primary",style:{marginTop:8,padding:"6px 12px",fontSize:12},disabled:(e=>{if(!e)return!0;const t=e.getContext("2d");return!new Uint32Array(t.getImageData(0,0,e.width,e.height).data.buffer).some(e=>4294967295!==e)})(X.current),children:[(0,n.jsx)(i.F7,{})," Save Signature"]})]}):(0,n.jsxs)("div",(0,o.A)((0,o.A)({},le()),{},{className:"upload-area",style:{padding:16},children:[(0,n.jsx)("input",(0,o.A)({},re())),(0,n.jsx)(i.dkL,{size:24}),x?(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:x.name}),(0,n.jsx)("img",{src:URL.createObjectURL(x),alt:"Signature",style:{maxWidth:"100%",maxHeight:100,marginTop:8}})]}):(0,n.jsx)("p",{children:"Click or drag signature image (PNG/JPG, max 2MB, 500x300px)"})]}))]}),(0,n.jsxs)("div",{className:"options-panel",children:[(0,n.jsx)("h4",{children:"2. Select Pages to Sign"}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:12,flexWrap:"wrap"},children:[(0,n.jsxs)("button",{className:"btn-small ".concat("all"===w?"btn-primary":"btn-secondary"),onClick:()=>{N("all"),k(new Set(D))},children:["All Pages (",F,")"]}),(0,n.jsx)("button",{className:"btn-small ".concat("first"===w?"btn-primary":"btn-secondary"),onClick:()=>N("first"),children:"First Page"}),(0,n.jsx)("button",{className:"btn-small ".concat("last"===w?"btn-primary":"btn-secondary"),onClick:()=>N("last"),children:"Last Page"}),(0,n.jsx)("button",{className:"btn-small ".concat("specific"===w?"btn-primary":"btn-secondary"),onClick:()=>N("specific"),children:"Specific Pages"})]}),"specific"===w&&D.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:8},children:[(0,n.jsx)("button",{onClick:()=>{k(new Set(D)),N("all")},className:"btn-secondary",style:{padding:"4px 12px",fontSize:11},children:"Select All"}),(0,n.jsx)("button",{onClick:()=>{k(new Set),C("")},className:"btn-secondary",style:{padding:"4px 12px",fontSize:11},children:"Clear All"})]}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:8,maxHeight:150,overflowY:"auto",padding:8,background:"var(--bg-primary)",borderRadius:6},children:D.map(e=>(0,n.jsxs)("button",{onClick:()=>(e=>{const t=new Set(P);t.has(e)?t.delete(e):t.add(e),k(t)})(e),style:{padding:"6px 4px",background:P.has(e)?"var(--accent)":"var(--bg-secondary)",color:P.has(e)?"white":"var(--text-primary)",border:"1px solid ".concat(P.has(e)?"var(--accent)":"var(--border-color)"),borderRadius:4,cursor:"pointer",fontSize:11},children:["Page ",e]},e))})]})]}),(0,n.jsxs)("div",{className:"options-panel",children:[(0,n.jsx)("h4",{children:"3. Place Signature"}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:16},children:[(0,n.jsxs)("button",{className:"btn-small ".concat("preset"===A?"btn-primary":"btn-secondary"),onClick:()=>B("preset"),style:{flex:1},children:[(0,n.jsx)(i.ugv,{})," Preset Position"]}),(0,n.jsxs)("button",{className:"btn-small ".concat("drag"===A?"btn-primary":"btn-secondary"),onClick:()=>B("drag"),style:{flex:1},children:[(0,n.jsx)(i.bXz,{})," Drag to Place"]})]}),"preset"===A?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginBottom:16},children:[(0,n.jsx)("button",{className:"btn-small ".concat("top-left"===L?"btn-primary":"btn-secondary"),onClick:()=>de("top-left"),children:"Top Left"}),(0,n.jsx)("button",{className:"btn-small ".concat("top-right"===L?"btn-primary":"btn-secondary"),onClick:()=>de("top-right"),children:"Top Right"}),(0,n.jsx)("button",{className:"btn-small ".concat("center"===L?"btn-primary":"btn-secondary"),onClick:()=>de("center"),children:"Center"}),(0,n.jsx)("button",{className:"btn-small ".concat("bottom-left"===L?"btn-primary":"btn-secondary"),onClick:()=>de("bottom-left"),children:"Bottom Left"}),(0,n.jsx)("button",{className:"btn-small ".concat("bottom-right"===L?"btn-primary":"btn-secondary"),onClick:()=>de("bottom-right"),children:"Bottom Right"})]})}):(0,n.jsx)("p",{style:{fontSize:12,color:"var(--text-secondary)",marginBottom:12},children:"Drag the signature preview below to position it exactly where you want it."}),Y&&(0,n.jsxs)("div",{ref:Q,className:"preview-box",style:{position:"relative",height:300,background:"#f0f0f0",cursor:"drag"===A?"grab":"default",userSelect:"none",overflow:"hidden"},onMouseMove:e=>{if(!J||!Q.current)return;const t=Q.current.getBoundingClientRect(),s=e.clientX-t.left-q.x,a=e.clientY-t.top-q.y,i=Math.max(0,Math.min(t.width-M.width,s)),n=Math.max(0,Math.min(t.height-M.height,a));E({x:i,y:n})},onMouseUp:pe,onMouseLeave:pe,children:[(0,n.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"white",border:"1px solid #ccc",display:"flex",alignItems:"center",justifyContent:"center",color:"#999",fontSize:12},children:"PDF Page Preview"}),(0,n.jsx)("img",{src:Y,alt:"Signature",style:{position:"absolute",left:T.x,top:T.y,width:M.width,height:M.height,cursor:"drag"===A?"grabbing":"pointer",border:"drag"===A?"2px dashed var(--accent)":"none",padding:2,pointerEvents:"drag"===A?"auto":"none"},onMouseDown:"drag"===A?e=>{if("drag"!==A||!Y)return;const t=e.target.getBoundingClientRect(),s=e.clientX-t.left,a=e.clientY-t.top;G({x:s,y:a}),U(!0)}:void 0,draggable:!1})]}),(0,n.jsxs)("div",{style:{marginTop:16},children:[(0,n.jsx)("h4",{style:{fontSize:13,marginBottom:8},children:"Signature Size"}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:12,color:"var(--text-secondary)"},children:["Width: ",M.width,"px"]}),(0,n.jsx)("input",{type:"range",min:"50",max:"400",value:M.width,onChange:e=>W((0,o.A)((0,o.A)({},M),{},{width:parseInt(e.target.value)})),style:{width:"100%"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{fontSize:12,color:"var(--text-secondary)"},children:["Height: ",M.height,"px"]}),(0,n.jsx)("input",{type:"range",min:"30",max:"200",value:M.height,onChange:e=>W((0,o.A)((0,o.A)({},M),{},{height:parseInt(e.target.value)})),style:{width:"100%"}})]})]})]})]}),H&&(0,n.jsxs)("div",{className:"error-message",children:[(0,n.jsx)(i.TNq,{})," ",H]}),(0,n.jsxs)("div",{className:"workspace-actions",style:{position:"relative"},children:[(0,n.jsx)("div",{onMouseEnter:()=>te&&v(!0),onMouseLeave:()=>v(!1),style:{display:"inline-block"},children:(0,n.jsxs)("button",{className:"btn btn-primary",onClick:async()=>{if(!t[0])return;const e="draw"===g?u:x;if(e){p(!0),V(""),_("");try{const s="all"===w?"all":"first"===w?[0]:"last"===w?[F-1]:"specific"===w?Array.from(P).map(e=>e-1):"all",a=await(0,d.Ol)(t[0],e,{pages:s,position:T,width:M.width,height:M.height});r(a),_("PDF signed successfully!")}catch(s){V("Failed to sign PDF: "+s.message)}finally{p(!1)}}else V("Please provide a signature")},disabled:!t[0]||("draw"===g?!u:!x)||"specific"===w&&0===P.size,children:[(0,n.jsx)(i.F7,{})," Sign PDF"]})}),b&&te&&(0,n.jsxs)("div",{className:"button-tooltip",children:[(0,n.jsx)(i.TNq,{className:"tooltip-icon"}),(0,n.jsx)("span",{children:"Save your signature first"}),(0,n.jsx)("div",{className:"tooltip-arrow"})]})]})]})})},y=()=>(0,n.jsxs)("div",{className:"coming-soon-container",children:[(0,n.jsxs)("div",{className:"coming-soon-icon",children:[(0,n.jsx)(i.kl1,{size:48}),(0,n.jsx)(i.w_X,{size:32,className:"clock-icon"})]}),(0,n.jsx)("h3",{children:"PDF to Image Converter"}),(0,n.jsx)("p",{className:"coming-soon-message",children:"Convert PDF pages to PNG or JPG images directly in your browser."}),(0,n.jsxs)("div",{className:"feature-list",children:[(0,n.jsx)("h4",{children:"Coming Features:"}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"\u2713 Convert all pages or specific page ranges"}),(0,n.jsx)("li",{children:"\u2713 PNG and JPG format support"}),(0,n.jsx)("li",{children:"\u2713 Adjustable image quality for JPG"}),(0,n.jsx)("li",{children:"\u2713 High-resolution scaling option"}),(0,n.jsx)("li",{children:"\u2713 Download as ZIP for multiple images"}),(0,n.jsx)("li",{children:"\u2713 Live thumbnail preview"})]})]}),(0,n.jsx)("p",{className:"development-note",children:"\ud83d\udea7 This feature is under active development and will be available soon!"}),(0,n.jsx)("p",{className:"privacy-note",children:"\ud83d\udd12 Like all our tools, processing will happen entirely in your browser. No files will ever be uploaded."})]}),b=e=>{let{mode:t,files:s,setFiles:a,onResultReady:i,setLoading:l}=e;switch(t){case"merge":return(0,n.jsx)(p,{files:s,setFiles:a,onResultReady:i,setLoading:l});case"split":return(0,n.jsx)(g,{files:s,setFiles:a,onResultReady:i,setLoading:l});case"remove":return(0,n.jsx)(m,{files:s,setFiles:a,onResultReady:i,setLoading:l});case"rotate":return(0,n.jsx)(u,{files:s,setFiles:a,onResultReady:i,setLoading:l});case"watermark":return(0,n.jsx)(h,{files:s,setFiles:a,onResultReady:i,setLoading:l});case"pagenum":return(0,n.jsx)(x,{files:s,setFiles:a,onResultReady:i,setLoading:l});case"image2pdf":return(0,n.jsx)(f,{files:s,setFiles:a,onResultReady:i,setLoading:l});case"pdftoimage":return(0,n.jsx)(y,{files:s,setFiles:a,onResultReady:i,setLoading:l});case"sign":return(0,n.jsx)(j,{files:s,setFiles:a,onResultReady:i,setLoading:l});default:return null}},v=()=>{const[e,t]=(0,a.useState)("merge"),[s,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),[m,u]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[f,j]=(0,a.useState)(null),y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;u(e),j(t),x(""),setTimeout(()=>u(""),5e3)},v=(0,a.useCallback)(async()=>{o&&(await(0,d.Ru)(o,"Mani_Tool_Hub"),y("File downloaded successfully!"))},[o]),w=(0,a.useCallback)(e=>{var t;e.success?(c(e.pdf),j(e),y(e.message,e)):(t=e.error,x(t),u(""),j(null))},[]),N=!!o;return(0,n.jsxs)("div",{className:"pdf-tool",children:[(0,n.jsx)(r,{activeMode:e,setActiveMode:t,onClear:()=>{l([]),c(null),j(null),u(""),x("")},onDownload:v,canDownload:N}),m&&(0,n.jsxs)("div",{className:"status-message success",children:[(0,n.jsx)(i.A7C,{}),(0,n.jsx)("span",{children:m}),(null===f||void 0===f?void 0:f.pageCount)&&(0,n.jsxs)("span",{className:"status-details",children:["(",f.pageCount," pages)"]})]}),h&&(0,n.jsxs)("div",{className:"status-message error",children:[(0,n.jsx)(i.TNq,{}),(0,n.jsx)("span",{children:h})]}),(0,n.jsxs)("div",{className:"pdf-workspace",children:[(0,n.jsxs)("div",{className:"workspace-header",children:[(0,n.jsxs)("span",{className:"workspace-title",children:["merge"===e&&"Merge PDFs","split"===e&&"Split PDF","remove"===e&&"Remove Pages","rotate"===e&&"Rotate Pages","watermark"===e&&"Add Watermark","pagenum"===e&&"Add Page Numbers","image2pdf"===e&&"Images to PDF","sign"===e&&"Sign PDF"]}),s.length>0&&(0,n.jsxs)("span",{className:"status-badge",children:[s.length," file(s)"]})]}),(0,n.jsxs)("div",{className:"workspace-content",children:[p&&(0,n.jsxs)("div",{className:"loading-overlay",children:[(0,n.jsx)("div",{className:"spinner"}),(0,n.jsx)("span",{children:"Processing your PDF..."})]}),(0,n.jsx)(b,{mode:e,files:s,setFiles:l,onResultReady:w,setLoading:g}),f&&!p&&(0,n.jsxs)("div",{className:"result-summary",children:[(0,n.jsx)("h4",{children:"Operation Complete"}),(0,n.jsx)("p",{children:f.message}),f.pageCount&&(0,n.jsxs)("p",{children:["Output PDF has ",f.pageCount," pages"]}),(0,n.jsx)("p",{className:"download-hint",children:"Click the Download button above to save your file as pdf"})]})]})]}),(0,n.jsxs)("div",{className:"pdf-footer",children:[(0,n.jsx)("span",{className:"footer-note",children:"\ud83d\udd12 Your files are processed entirely in your browser. No data is uploaded, stored, or transmitted to any server."}),(0,n.jsx)("span",{children:"v1.0"})]})]})}},6369(e,t,s){s.d(t,{AV:()=>u,Jf:()=>p,Nf:()=>c,OU:()=>r,Ol:()=>h,Ru:()=>l,getPageCount:()=>x,hJ:()=>o,iq:()=>d,tJ:()=>m,zb:()=>g});var a=s(1105),i=s(2450);async function n(e){const t=await e.arrayBuffer();return await a.PDFDocument.load(t)}async function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"output";const s=await e.save(),a=new Blob([s],{type:"application/pdf"});(0,i.saveAs)(a,"".concat(t,".pdf"))}async function r(e){const t=await a.PDFDocument.create();for(const s of e){const e=await n(s);(await t.copyPages(e,e.getPageIndices())).forEach(e=>t.addPage(e))}return t}async function o(e,t){try{const s=await n(e),i=function(e,t){const s=e.split(",").map(e=>e.trim()).filter(e=>e),a=[];for(const i of s)if(i.includes("-")){const[e,s]=i.split("-").map(Number);if(isNaN(e)||isNaN(s)||e<1||s>t||e>s)throw new Error("Invalid range: ".concat(i,". Pages must be between 1 and ").concat(t));a.push([e,s])}else{const e=Number(i);if(isNaN(e)||e<1||e>t)throw new Error("Invalid page: ".concat(i,". Pages must be between 1 and ").concat(t));a.push([e,e])}return a}(t,s.getPageCount()),l=i.flatMap(e=>{let[t,s]=e;const a=[];for(let i=t;i<=s;i++)a.push(i-1);return a});if(0===l.length)throw new Error("No valid pages selected");const r=await a.PDFDocument.create();return(await r.copyPages(s,l)).forEach(e=>r.addPage(e)),{success:!0,pdf:r,message:"Successfully extracted ".concat(l.length," page").concat(l.length>1?"s":""),pageCount:l.length}}catch(s){return{success:!1,error:s.message}}}async function c(e,t){try{const s=await n(e),i=s.getPageCount();if(0===t.length)throw new Error("No pages selected for removal");if(t.length===i)throw new Error("Cannot remove all pages. PDF must have at least one page.");const l=s.getPageIndices().filter(e=>!t.includes(e)),r=await a.PDFDocument.create();return(await r.copyPages(s,l)).forEach(e=>r.addPage(e)),{success:!0,pdf:r,message:"Successfully removed ".concat(t.length," page").concat(t.length>1?"s":""),pageCount:l.length}}catch(s){return{success:!1,error:s.message}}}async function d(e,t,s){try{const i=await n(e),l={90:(0,a.degrees)(90),180:(0,a.degrees)(180),270:(0,a.degrees)(270)}[s]||(0,a.degrees)(0);let r=0;return"all"===t?i.getPages().forEach(e=>{e.setRotation(l),r++}):t.forEach(e=>{i.getPage(e).setRotation(l),r++}),{success:!0,pdf:i,message:"Successfully rotated ".concat(r," page").concat(r>1?"s":""),pageCount:i.getPageCount()}}catch(i){return{success:!1,error:i.message}}}async function p(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const i=await n(e),l=i.getPages(),r=await i.embedFont(a.StandardFonts.HelveticaBold),{opacity:o=.3,rotation:c=45,fontSize:d=60,position:p="center"}=s;return l.forEach(e=>{const{width:s,height:i}=e.getSize();let n=s/2,l=i/2;"top"===p&&(l=i-100),"bottom"===p&&(l=100),"left"===p&&(n=100),"right"===p&&(n=s-100),e.drawText(t,{x:n,y:l,size:d,font:r,color:(0,a.rgb)(0,0,0),opacity:o,rotate:(0,a.degrees)(c),lineHeight:d,maxWidth:s-100,textAlign:"center"})}),{success:!0,pdf:i,message:'Watermark "'.concat(t,'" added successfully'),pageCount:i.getPageCount()}}catch(i){return{success:!1,error:i.message}}}async function g(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const i=await n(e),l=i.getPages(),{opacity:r=.3,rotation:o=45,scale:c=.5,position:d="center"}=s,p=await t.arrayBuffer();let g;if("image/jpeg"===t.type||"image/jpg"===t.type)g=await i.embedJpg(p);else{if("image/png"!==t.type)throw new Error("Unsupported image format. Please use JPG or PNG.");g=await i.embedPng(p)}const{width:m,height:u}=g.scale(1),h=m*c,x=u*c;return l.forEach(e=>{const{width:t,height:s}=e.getSize();let i=(t-h)/2,n=(s-x)/2;"top"===d&&(n=s-x-50),"bottom"===d&&(n=50),"left"===d&&(i=50),"right"===d&&(i=t-h-50),e.drawImage(g,{x:i,y:n,width:h,height:x,opacity:r,rotate:(0,a.degrees)(o)})}),{success:!0,pdf:i,message:"Image watermark added successfully",pageCount:i.getPageCount()}}catch(i){return{success:!1,error:i.message}}}async function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const s=await n(e),i=s.getPages(),l=await s.embedFont(a.StandardFonts.Helvetica),{position:r="bottom-right",fontSize:o=12,startNumber:c=1}=t;return i.forEach((e,t)=>{const{width:s,height:i}=e.getSize(),n="Page ".concat(c+t);let d,p;switch(r){case"top-right":d=s-100,p=i-30;break;case"top-left":d=50,p=i-30;break;case"bottom-center":d=s/2,p=30;break;case"bottom-left":d=50,p=30;break;default:d=s-100,p=30}e.drawText(n,{x:d,y:p,size:o,font:l,color:(0,a.rgb)(0,0,0)})}),{success:!0,pdf:s,message:"Page numbers added successfully",pageCount:s.getPageCount()}}catch(s){return{success:!1,error:s.message}}}async function u(e){try{const t=await a.PDFDocument.create();for(const s of e){const e=await s.arrayBuffer();let a;if("image/jpeg"===s.type||"image/jpg"===s.type)a=await t.embedJpg(e);else{if("image/png"!==s.type)throw new Error("Unsupported image type: ".concat(s.type));a=await t.embedPng(e)}const{width:i,height:n}=a.scale(1);t.addPage([i,n]).drawImage(a,{x:0,y:0,width:i,height:n})}return{success:!0,pdf:t,message:"Successfully converted ".concat(e.length," image").concat(e.length>1?"s":""," to PDF"),pageCount:t.getPageCount()}}catch(t){return{success:!1,error:t.message}}}async function h(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const a=await n(e),i=a.getPages(),{pageIndex:l=0,position:r={x:100,y:100},width:o=150,height:c=75}=s;let d;if("string"===typeof t&&t.startsWith("data:image")){const e=t.split(",")[1],s=Uint8Array.from(atob(e),e=>e.charCodeAt(0));d=await a.embedPng(s)}else{if(!(t instanceof File))throw new Error("Invalid signature data");{const e=await t.arrayBuffer();if("image/png"===t.type)d=await a.embedPng(e);else{if("image/jpeg"!==t.type&&"image/jpg"!==t.type)throw new Error("Signature image must be PNG or JPG");d=await a.embedJpg(e)}}}return i[l].drawImage(d,{x:r.x,y:r.y,width:o,height:c}),{success:!0,pdf:a,message:"Signature added successfully",pageCount:a.getPageCount()}}catch(a){return{success:!1,error:a.message}}}async function x(e){return(await n(e)).getPageCount()}}}]);
//# sourceMappingURL=593.25dd78bb.chunk.js.map